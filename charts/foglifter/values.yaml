# Recommended default FogLifter configurations

# Image registry for all FogLifter deployments
# Should end with forward-slash if set (e.g. "quay.io/")
registry: "ghcr.io/vso-inc/"
# ImagePullPolicy for all FogLifter deployments
imagePullPolicy: Always
# ImagePullSecret name for all FogLifter deployments
# Must be created separately from helm install/upgrade
imagePullSecret: "foglifter-pullsecret"

# FogLifter decryption key secret name
decryptionKeySecret: ""

# FogLifter ConfigMap parameters
cm:
  # Create ConfigMap
  create: true
  # Environment variables to be passed to all FogLifter deployments via ConfigMap
  data: {}
    # FOO: bar
    # LOREM: ipsum

# FogLifter PriorityClass parameters
priorityClass:
  # Create PriorityClass to resist eviction
  create: true
  # PriorityClass priority value
  value: 1000000

# FogLifter MongoDB secret name
mongoSecret: ""

# FogLifter apiservice deployment parameters
apiservice:
  # Apiservice deployment port
  port: 8080
  # Apiservice deployment replicas
  replicas: 1
  # Apiservice deployment image repository
  repository: foglifter-api-service
  # Apiservice deployment image tag
  tag: 1.0.1
  # Apiservice trust token hash key (TRUST_TOKEN_HASH_KEY)
  trustToken: ""
  # Apiservice deployment extra environment variables
  env: {}
    # FOO: bar
    # LOREM: ipsum
  # Apiservice deployment resources
  resources: {}
    # requests:
    #   cpu: 100m
    #   memory: 128Mi
    # limits:
    #   cpu: 500m
    #   memory: 2048Mi

# FogLifter core deployment parameters
core:
  # Core deployment port
  port: 8080
  # Core deployment replicas
  replicas: 1
  # Core deployment image repository
  repository: foglifter-core-app
  # Core deployment image tag
  tag: 2.2.0
  # Core deployment podAntiAffinity towards exec app
  execAntiAffinity: true
  # Core deployment extra environment variables
  env: {}
    # FOO: bar
    # LOREM: ipsum
  # Core deployment resources
  resources: {}
    # requests:
    #   cpu: 1000m
    #   memory: 2048Mi
    # limits:
    #   cpu: 4000m
    #   memory: 8192Mi

# FogLifter exec deployment parameters
exec:
  # Exec deployment replicas
  replicas: 1
  # Exec deployment image repository
  repository: foglifter-exec-app
  # Exec deployment image tag
  tag: 2.2.0
  # Exec deployment podAntiAffinity towards core app
  coreAntiAffinity: true
  # Exec deployment extra environment variables
  env: {}
    # FOO: bar
    # LOREM: ipsum
  # Exec deployment resources
  resources: {}
    # requests:
    #   cpu: 1000m
    #   memory: 2048Mi
    # limits:
    #   cpu: 4000m
    #   memory: 8192Mi

# FogLifter module deployment parameters
module:
  # Module deployment port
  port: 8080
  # Module deployment replicas
  replicas: 1
  # Module deployment image repository
  repository: foglifter-module-app
  # Module deployment image tag
  tag: 2.2.0
  # Module deployment extra environment variables
  env: {}
    # FOO: bar
    # LOREM: ipsum
  # Module deployment resources
  resources: {}
    # requests:
    #   cpu: 100m
    #   memory: 128Mi
    # limits:
    #   cpu: 500m
    #   memory: 2048Mi

# FogLifter scheduler deployment parameters
scheduler:
  # Enable scheduler deployment
  enabled: true
  # Scheduler deployment port
  port: 8080
  # Scheduler deployment replicas
  replicas: 1
  # Scheduler deployment image repository
  repository: foglifter-scheduler
  # Scheduler deployment image tag
  tag: 1.0.0
  # Scheduler deployment extra environment variables
  env: 
    FOGLIFTER_URL: "http://foglifter-core-svc:8080"
    FOGLIFTER_USERNAME: admin
    EXPRESS_JSON_SIZE_LIMIT: 10mb
    LOG_LEVEL: info
    SCHEDULER_HEARTBEAT_INTERVAL: 60000
    SCHEDULER_AUTH_INTERVAL: 10000
    SCHEDULER_SETTINGS_INTERVAL: 15000
  # Existing scheduler secret name - CREATE PRIOR TO INSTALL
  # Should contain the "password" key with the scheduler password
  existingSecret: foglifter-scheduler-secret
  # Scheduler deployment resources
  resources: {}
    # requests:
    #   cpu: 100m
    #   memory: 128Mi
    # limits:
    #   cpu: 500m
    #   memory: 2048Mi
